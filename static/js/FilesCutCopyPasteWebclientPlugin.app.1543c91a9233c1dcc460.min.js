"use strict";(self.webpackChunkafterlogic_aurora_platform=self.webpackChunkafterlogic_aurora_platform||[]).push([[1550],{"1RU3":(e,t,s)=>{e.exports=function(e){return s("9kOp").isUserNormalOrTenant()?{start:function(e){e.run("FilesWebclient","registerToolbarButtons",[s("QpnB")])}}:null}},QpnB:(e,t,s)=>{var i=s("a7T2"),o=s("p09A"),r=s("H20a"),h=s("REt5"),n=s("oUN1"),a=s("hT1I");function l(){this.oFilesView=null,this.copiedItems=o.observableArray([]),this.cuttedItems=o.observableArray([]),this.sharedParentFolderWhereItemsCutFrom=o.observable(null),this.savedItemsCount=o.computed((function(){return this.cuttedItems().length+this.copiedItems().length}),this),this.pasteTooltip=o.computed((function(){var e=i.union(this.cuttedItems(),this.copiedItems());return e.length>0?r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")+": <br/>"+i.map(e,(function(e){return e.fileName()})).join(",<br/>"):r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")}),this)}l.prototype.ViewTemplate="FilesCutCopyPasteWebclientPlugin_ButtonsView",l.prototype.useFilesViewData=function(e){this.oFilesView=e,this.cutCommand=h.createCommand(this,this.executeCut,e.isCutAllowed),this.copyCommand=h.createCommand(this,this.executeCopy,e.isCopyAllowed),this.isPasteAllowed=o.computed((function(){var t=!1,s=e.sharedParentFolder();return this.copiedItems().length>0&&(t=!e.isSharedStorage()&&!s||s&&s.sharedWithMeAccessWrite()),this.cuttedItems().length>0&&(t=e.storageType()===Enums.FileStorageType.Personal&&(!s||s&&s.sharedWithMeAccessWrite())||e.isCorporateStorage()||e.isSharedStorage()&&s&&s.sharedWithMeAccessWrite()),t}),this),this.pasteCommand=h.createCommand(this,this.executePaste,this.isPasteAllowed)},l.prototype.executeCut=function(){this.copiedItems([]),this.cuttedItems(this.oFilesView.selector.listCheckedAndSelected()),this.sharedParentFolderWhereItemsCutFrom(this.oFilesView.sharedParentFolder()),n.showPopup(a,[r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_CUTTED")])},l.prototype.executeCopy=function(){this.copiedItems(this.oFilesView.selector.listCheckedAndSelected()),this.cuttedItems([]),n.showPopup(a,[r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_COPIED")])},l.prototype.executePaste=function(){this.cuttedItems().length>0&&(this.oFilesView.moveItems("Move",this.oFilesView.getCurrentFolder(),this.cuttedItems()),this.cuttedItems([])),this.copiedItems().length>0&&(this.oFilesView.moveItems("Copy",this.oFilesView.getCurrentFolder(),this.copiedItems()),this.copiedItems([]))},e.exports=new l}}]);