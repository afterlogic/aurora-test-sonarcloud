"use strict";(self.webpackChunkafterlogic_aurora_platform=self.webpackChunkafterlogic_aurora_platform||[]).push([[1633],{"171C":(o,s,e)=>{var n=e("a7T2"),t=e("skxT"),P={checkIfFieldsEmpty:function(o,s){var e=n.find(o,(function(o){return""===o()}));return!e||(s&&t.showError(s),e.focused(!0),!1)},checkPassword:function(o,s){var n=e("H20a"),P=e("OfVV"),r=!1;return s!==o?t.showError(n.i18n("COREWEBCLIENT/ERROR_PASSWORDS_DO_NOT_MATCH")):P.PasswordMinLength>0&&o.length<P.PasswordMinLength?t.showError(n.i18n("COREWEBCLIENT/ERROR_PASSWORD_TOO_SHORT").replace("%N%",P.PasswordMinLength)):!P.PasswordMustBeComplex||o.match(/([0-9])/)&&o.match(/([!,%,&,@,#,$,^,*,?,_,~])/)?r=!0:t.showError(n.i18n("COREWEBCLIENT/ERROR_PASSWORD_TOO_SIMPLE")),r}};o.exports=P},TsEX:(o,s,e)=>{var n=e("M4cL");o.exports=function(o){var s=e("a7T2"),t=e("H20a"),P=e("9kOp"),r=e("oUN1"),i=e("hT1I"),E=e("XeMN"),a=e("1/+a");return{start:function(o){P.subscribeEvent("StandardLoginFormWebclient::ConstructView::after",(function(o){var e=o.View;if(e){var A=e.onSystemLoginResponse.bind(e);s.isFunction(A)||(A=e.onSystemLoginResponseBase.bind(e)),s.isFunction(A)||(A=function(){}),e.onSystemLoginResponse=function(o,s){if(o&&o.SubscriptionsResult&&o.SubscriptionsResult["MailChangePasswordPoppassdExtendedPlugin::onBeforeLogin"]){this.loading(!1);var e=o.SubscriptionsResult["MailChangePasswordPoppassdExtendedPlugin::onBeforeLogin"];if(e.CallHelpdesk)r.showPopup(i,[t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/INFO_PASSWORD_EXPIRED"),function(){},t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/HEADING_PASSWORD_EXPIRED")]);else if(e.ChangePassword)if(e.DaysBeforeExpire>=0){var S=t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/INFO_PASSWORD_ABOUT_EXPIRE_PLURAL",{COUNT:e.DaysBeforeExpire},null,e.DaysBeforeExpire);0===e.DaysBeforeExpire&&(S=t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/INFO_PASSWORD_EXPIRES_TODAY")),S+=" "+t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/INFO_CHANGE_PASSWOD_BEFORE_EXPIRING"),r.showPopup(E,[S,function(e){e?(P.setAuthToken(o.Result.AuthToken),r.showPopup(a,[t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/HEADING_PASSWORD_CHANGE"),function(){n.removeCookie("AuthToken")}])):A(o,s)}.bind(this),t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/HEADING_PASSWORD_ABOUT_EXPIRE"),t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/ACTION_CHANGE"),t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/ACTION_LATER")])}else P.setAuthToken(o.Result.AuthToken),r.showPopup(a,[t.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/HEADING_PASSWORD_EXPIRED_NEED_CHANGING"),function(){n.removeCookie("AuthToken")}]);else A(o,s)}else A(o,s)}}}))}}}},"1/+a":(o,s,e)=>{var n=e("a7T2"),t=e("M4cL"),P=e("p09A"),r=e("H20a"),i=e("171C"),E=e("EFhx"),a=e("/QeJ"),A=e("skxT"),S=e("o1lX");function D(){S.call(this),this.currentPassword=P.observable(""),this.newPassword=P.observable(""),this.confirmPassword=P.observable(""),this.heading=P.observable(""),this.fOnPopupClose=null}n.extendOwn(D.prototype,S.prototype),D.prototype.PopupTemplate="MailChangePasswordPoppassdExtendedPlugin_ChangePasswordPopup",D.prototype.onOpen=function(o,s){this.currentPassword(""),this.newPassword(""),this.confirmPassword(""),this.heading(o),this.fOnPopupClose=s},D.prototype.onClose=function(){n.isFunction(this.fOnPopupClose)&&this.fOnPopupClose()},D.prototype.change=function(){var o=t.trim(this.newPassword()),s=t.trim(this.confirmPassword());i.checkPassword(o,s)&&this.sendChangeRequest()},D.prototype.sendChangeRequest=function(){var o={CurrentPassword:t.trim(this.currentPassword()),NewPassword:t.trim(this.newPassword())};E.send("Mail","ChangePassword",o,this.onUpdatePasswordResponse,this)},D.prototype.onUpdatePasswordResponse=function(o,s){!1===o.Result?a.showErrorByCode(o,r.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/ERROR_PASSWORD_NOT_SAVED")):(A.showReport(r.i18n("MAILCHANGEPASSWORDPOPPASSDEXTENDEDPLUGIN/REPORT_PASSWORD_CHANGED")),this.closePopup())},o.exports=new D}}]);