"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[3793],{3793:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ue});var s=t(9835),a=t(6970);const l={class:"full-height full-width"},o={class:"q-pa-lg"},n={class:"row q-mb-md"},r={class:"col text-h5"},c={class:"row q-mb-md"},d={class:"col2"},m={class:"row"},S={class:"col-2"},E={class:"q-my-sm"},p={class:"col-3"},L={class:"row"},_={class:"q-ma-sm col-1",style:{"margin-top":"10px"}},u={class:"q-pt-md text-right"},b={class:"q-pa-lg"},h={class:"row q-mb-md"},I={class:"col text-h5"},g={class:"q-my-sm"},T={class:"row q-mb-sm"},C={class:"col-2"},v={class:"q-my-sm"},M={class:"col-3"},w={class:"row"},N={class:"q-ma-sm col-1",style:{"margin-top":"10px"}},R={class:"row q-mb-md"},A=(0,s._)("div",{class:"col-2"},null,-1),F={class:"col-8"},W={class:"row q-mb-sm"},B={class:"col-2"},q={class:"q-my-sm"},O={class:"col-3"},U={class:"row"},z={class:"q-ma-sm col-1",style:{"margin-top":"10px"}},Z={class:"row"},y=(0,s._)("div",{class:"col-2"},null,-1),f={class:"col-8"},P={class:"q-pt-md text-right"},G={key:0,class:"q-pa-lg"},V={class:"row q-mb-md"},$={class:"col text-h5"},x={class:"row"},k={class:"col-2"},D={class:"q-my-sm"},Q={class:"col-3"},H={class:"row"},Y={class:"q-ma-sm col-1",style:{"margin-top":"10px"}},j={class:"q-pt-md text-right"};function J(e,i,t,J,K,X){const ee=(0,s.up)("q-item-label"),ie=(0,s.up)("q-checkbox"),te=(0,s.up)("q-input"),se=(0,s.up)("q-card-section"),ae=(0,s.up)("q-card"),le=(0,s.up)("q-btn"),oe=(0,s.up)("q-scroll-area"),ne=(0,s.up)("q-linear-progress"),re=(0,s.up)("q-inner-loading"),ce=(0,s.Q2)("t");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(oe,{class:"full-height full-width"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",n,[(0,s._)("div",r,(0,a.zw)(e.$t("FILESWEBCLIENT.HEADING_BROWSER_TAB")),1)]),(0,s.Wm)(ae,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,s.w5)((()=>[(0,s.Wm)(se,null,{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("div",d,[(0,s.Wm)(ie,{dense:"",modelValue:K.enableUploadSizeLimit,"onUpdate:modelValue":i[0]||(i[0]=e=>K.enableUploadSizeLimit=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(ee,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("FILESWEBCLIENT.LABEL_ENABLE_UPLOAD_SIZE_LIMIT")),1)])),_:1})])),_:1},8,["modelValue"])])]),(0,s._)("div",m,[(0,s._)("div",S,[(0,s._)("div",E,(0,a.zw)(e.$t("FILESWEBCLIENT.LABEL_UPLOAD_SIZE_LIMIT")),1)]),(0,s._)("div",p,[(0,s._)("div",L,[(0,s.Wm)(te,{outlined:"",dense:"",class:"col-4","bg-color":"white",modelValue:K.uploadSizeLimitMb,"onUpdate:modelValue":i[1]||(i[1]=e=>K.uploadSizeLimitMb=e)},null,8,["modelValue"]),(0,s.wy)((0,s._)("div",_,null,512),[[ce,"COREWEBCLIENT.LABEL_MEGABYTES"]])])])])])),_:1})])),_:1}),(0,s._)("div",u,[(0,s.Wm)(le,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE"),onClick:X.updateSettings},null,8,["label","onClick"])])]),(0,s._)("div",b,[(0,s._)("div",h,[(0,s._)("div",I,[(0,s._)("div",g,(0,a.zw)(e.$t("FILESWEBCLIENT.HEADING_SETTINGS_TAB_PERSONAL")),1)])]),(0,s.Wm)(ae,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,s.w5)((()=>[(0,s.Wm)(se,null,{default:(0,s.w5)((()=>[(0,s._)("div",T,[(0,s._)("div",C,[(0,s._)("div",v,(0,a.zw)(e.$t("FILESWEBCLIENT.LABEL_TENANT_SPACE_LIMIT")),1)]),(0,s._)("div",M,[(0,s._)("div",w,[(0,s.Wm)(te,{outlined:"",dense:"",class:"col-4","bg-color":"white",modelValue:K.tenantSpaceLimitMb,"onUpdate:modelValue":i[2]||(i[2]=e=>K.tenantSpaceLimitMb=e)},null,8,["modelValue"]),(0,s.wy)((0,s._)("div",N,null,512),[[ce,"COREWEBCLIENT.LABEL_MEGABYTES"]])])])]),(0,s._)("div",R,[A,(0,s._)("div",F,[(0,s.Wm)(ee,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("FILESWEBCLIENT.HINT_TENANT_SPACE_LIMIT")),1)])),_:1})])]),(0,s._)("div",W,[(0,s._)("div",B,[(0,s._)("div",q,(0,a.zw)(e.$t("FILESWEBCLIENT.LABEL_USER_SPACE_LIMIT")),1)]),(0,s._)("div",O,[(0,s._)("div",U,[(0,s.Wm)(te,{outlined:"",dense:"",class:"col-4","bg-color":"white",modelValue:K.userSpaceLimitMb,"onUpdate:modelValue":i[3]||(i[3]=e=>K.userSpaceLimitMb=e)},null,8,["modelValue"]),(0,s.wy)((0,s._)("div",z,null,512),[[ce,"COREWEBCLIENT.LABEL_MEGABYTES"]])])])]),(0,s._)("div",Z,[y,(0,s._)("div",f,[(0,s.Wm)(ee,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("FILESWEBCLIENT.HINT_USER_SPACE_LIMIT")),1)])),_:1})])])])),_:1})])),_:1}),(0,s._)("div",P,[(0,s.Wm)(le,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE"),onClick:X.updateSettingsForEntity},null,8,["label","onClick"])])]),K.isCorporateAvailable?((0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("div",V,[(0,s._)("div",$,(0,a.zw)(e.$t("FILESWEBCLIENT.HEADING_SETTINGS_TAB_CORPORATE")),1)]),(0,s.Wm)(ae,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,s.w5)((()=>[(0,s.Wm)(se,null,{default:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s._)("div",k,[(0,s._)("div",D,(0,a.zw)(e.$t("FILESWEBCLIENT.LABEL_CORPORATE_SPACE_LIMIT")),1)]),(0,s._)("div",Q,[(0,s._)("div",H,[(0,s.Wm)(te,{outlined:"",dense:"","bg-color":"white",class:"col-4",modelValue:K.corporateSpaceLimitMb,"onUpdate:modelValue":i[4]||(i[4]=e=>K.corporateSpaceLimitMb=e)},null,8,["modelValue"]),(0,s.wy)((0,s._)("div",Y,null,512),[[ce,"COREWEBCLIENT.LABEL_MEGABYTES"]])])])])])),_:1})])),_:1}),(0,s._)("div",j,[(0,s.Wm)(le,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE"),onClick:X.updateSettingsCorporate},null,8,["label","onClick"])])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(re,{style:{"justify-content":"flex-start"},showing:K.savingFilesSetting||K.savingPerFilesSetting||K.savingCorFilesSetting},{default:(0,s.w5)((()=>[(0,s.Wm)(ne,{query:""})])),_:1},8,["showing"])])}var K=t(9336),X=t(1427),ee=t(2456),ie=t(7214),te=t(6441);const se={name:"FilesAdminSettingsSystemWide",data(){return{savingFilesSetting:!1,savingPerFilesSetting:!1,savingCorFilesSetting:!1,enableUploadSizeLimit:!1,uploadSizeLimitMb:0,userSpaceLimitMb:0,entityType:"",entityId:"",tenantSpaceLimitMb:0,corporateSpaceLimitMb:0,isCorporateAvailable:ie.Z.isModuleAvailable("CorporateFiles")}},mounted(){this.populate()},beforeRouteLeave(e,i,t){this.$root.doBeforeRouteLeave(e,i,t)},methods:{hasChanges(){const e=te.Z.getFilesSettings();return this.enableUploadSizeLimit!==e.enableUploadSizeLimit||this.uploadSizeLimitMb!==e.uploadSizeLimitMb||this.userSpaceLimitMb!==e.userSpaceLimitMb||this.tenantSpaceLimitMb!==e.tenantSpaceLimitMb||this.corporateSpaceLimitMb!==e.corporateSpaceLimitMb},revertChanges(){this.populate()},populate(){const e=te.Z.getFilesSettings();this.enableUploadSizeLimit=e.enableUploadSizeLimit,this.uploadSizeLimitMb=e.uploadSizeLimitMb?e.uploadSizeLimitMb:0,this.userSpaceLimitMb=e.userSpaceLimitMb?e.userSpaceLimitMb:0,this.tenantSpaceLimitMb=e.tenantSpaceLimitMb?e.tenantSpaceLimitMb:0,this.corporateSpaceLimitMb=e.corporateSpaceLimitMb?e.corporateSpaceLimitMb:0},updateSettings(){if(!this.savingFilesSetting){this.savingFilesSetting=!0;const e={EnableUploadSizeLimit:this.enableUploadSizeLimit,UploadSizeLimitMb:this.uploadSizeLimitMb,UserSpaceLimitMb:this.userSpaceLimitMb};ee.Z.sendRequest({moduleName:"Files",methodName:"UpdateSettings",parameters:e}).then((e=>{this.savingFilesSetting=!1,e?(te.Z.saveFilesSettings({enableUploadSizeLimit:this.enableUploadSizeLimit,uploadSizeLimitMb:this.uploadSizeLimitMb,userSpaceLimitMb:this.userSpaceLimitMb}),X.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):X.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.savingFilesSetting=!1,X.Z.showError(K.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},updateSettingsForEntity(){if(!this.savingPerFilesSetting){this.savingPerFilesSetting=!0;const e={EntityType:"",EntityId:0,UserSpaceLimitMb:this.userSpaceLimitMb,TenantSpaceLimitMb:this.tenantSpaceLimitMb};ee.Z.sendRequest({moduleName:"Files",methodName:"UpdateSettingsForEntity",parameters:e}).then((e=>{this.savingPerFilesSetting=!1,e?(te.Z.savePersonalFilesSettings({userSpaceLimitMb:this.userSpaceLimitMb,tenantSpaceLimitMb:this.tenantSpaceLimitMb}),X.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):X.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.savingPerFilesSetting=!1,X.Z.showError(K.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},updateSettingsCorporate(){if(this.isCorporateAvailable&&!this.savingCorFilesSetting){this.savingCorFilesSetting=!0;const e={SpaceLimitMb:this.corporateSpaceLimitMb};ee.Z.sendRequest({moduleName:"CorporateFiles",methodName:"UpdateSettings",parameters:e}).then((e=>{this.savingCorFilesSetting=!1,e?(te.Z.saveCorporateFilesSettings({spaceLimitMb:this.corporateSpaceLimitMb}),X.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):X.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.savingPerFilesSetting=!1,X.Z.showError(K.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}};var ae=t(1639),le=t(6663),oe=t(4458),ne=t(3190),re=t(6937),ce=t(3115),de=t(6611),me=t(8879),Se=t(854),Ee=t(8289),pe=t(9984),Le=t.n(pe);const _e=(0,ae.Z)(se,[["render",J]]),ue=_e;Le()(se,"components",{QScrollArea:le.Z,QCard:oe.Z,QCardSection:ne.Z,QCheckbox:re.Z,QItemLabel:ce.Z,QInput:de.Z,QBtn:me.Z,QInnerLoading:Se.Z,QLinearProgress:Ee.Z})}}]);