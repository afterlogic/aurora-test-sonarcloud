"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[8101],{8101:(t,n,e)=>{e.r(n),e.d(n,{default:()=>f});var a=e(9316),o=e(9835);const i={class:"q-pa-lg"},s={class:"row q-mb-md"},l={class:"col text-h5"},r={class:"row q-mb-md"},g={class:"col-2 q-mt-sm"},d={class:"col-5"},c={class:"row"},b={class:"col-2 q-mt-sm"},h={class:"col-5"},L={class:"q-pa-md text-right"};function u(t,n,e,a,u,m){const p=(0,o.up)("q-input"),T=(0,o.up)("q-card-section"),B=(0,o.up)("q-card"),E=(0,o.up)("q-btn"),_=(0,o.up)("q-linear-progress"),I=(0,o.up)("q-inner-loading"),N=(0,o.up)("q-scroll-area"),v=(0,o.Q2)("t");return(0,o.wg)(),(0,o.j4)(N,{class:"full-height full-width"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",s,[(0,o.wy)((0,o._)("div",l,null,512),[[v,"BRANDINGWEBCLIENT.HEADING_SETTINGS_TAB"]])]),(0,o.Wm)(B,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,null,{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.wy)((0,o._)("div",g,null,512),[[v,"BRANDINGWEBCLIENT.LOGIN_LOGO_URL_LABEL"]]),(0,o._)("div",d,[(0,o.Wm)(p,{outlined:"",dense:"","bg-color":"white",modelValue:u.loginLogoUrl,"onUpdate:modelValue":n[0]||(n[0]=t=>u.loginLogoUrl=t)},null,8,["modelValue"])])]),(0,o._)("div",c,[(0,o.wy)((0,o._)("div",b,null,512),[[v,"BRANDINGWEBCLIENT.TABSBAR_LOGO_URL_LABEL"]]),(0,o._)("div",h,[(0,o.Wm)(p,{outlined:"",dense:"","bg-color":"white",modelValue:u.tabsBarLogoUrl,"onUpdate:modelValue":n[1]||(n[1]=t=>u.tabsBarLogoUrl=t)},null,8,["modelValue"])])])])),_:1})])),_:1}),(0,o._)("div",L,[(0,o.Wm)(E,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:t.$t("COREWEBCLIENT.ACTION_SAVE"),onClick:m.save},null,8,["label","onClick"])])]),(0,o.Wm)(I,{style:{"justify-content":"flex-start"},showing:u.loading||u.saving},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{query:""})])),_:1},8,["showing"])])),_:1})}var m=e(9336),p=e(1427),T=e(4089),B=e(2456);const E={name:"BrandingAdminSettingPerTenant",data(){return{loginLogoUrl:"",tabsBarLogoUrl:"",saving:!1,loading:!1,tenant:null}},computed:{tenantId(){return this.$store.getters["tenants/getCurrentTenantId"]}},watch:{"$store.state.tenants.tenants":{handler:function(){this.populate()},deep:!0}},mounted(){this.loading=!1,this.saving=!1,this.populate()},beforeRouteLeave(t,n,e){this.$root.doBeforeRouteLeave(t,n,e)},methods:{hasChanges(){if(this.loading)return!1;const t=T.Z.pObject(this.tenant?.completeData);return this.loginLogoUrl!==t["BrandingWebclient::LoginLogo"]||this.tabsBarLogoUrl!==t["BrandingWebclient::TabsbarLogo"]},revertChanges(){this.populate()},populate(){const t=this.$store.getters["tenants/getTenant"](this.tenantId);t&&(void 0!==t.completeData["BrandingWebclient::LoginLogo"]?(this.tenant=t,this.loginLogoUrl=t.completeData["BrandingWebclient::LoginLogo"],this.tabsBarLogoUrl=t.completeData["BrandingWebclient::TabsbarLogo"]):this.getSettings())},save(){if(!this.saving){this.saving=!0;const t={LoginLogo:this.loginLogoUrl,TabsbarLogo:this.tabsBarLogoUrl,TenantId:this.tenantId};B.Z.sendRequest({moduleName:"BrandingWebclient",methodName:"UpdateSettings",parameters:t}).then((n=>{if(this.saving=!1,!0===n){const n={"BrandingWebclient::LoginLogo":t.LoginLogo,"BrandingWebclient::TabsbarLogo":t.TabsbarLogo};this.$store.commit("tenants/setTenantCompleteData",{id:this.tenantId,data:n}),p.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))}else p.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(t=>{this.saving=!1,p.Z.showError(m.Z.getTextFromResponse(t,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getSettings(){this.loading=!0;const t={TenantId:this.tenantId};B.Z.sendRequest({moduleName:"BrandingWebclient",methodName:"GetSettings",parameters:t}).then((t=>{if(this.loading=!1,t){const n={"BrandingWebclient::LoginLogo":T.Z.pString(t.LoginLogo),"BrandingWebclient::TabsbarLogo":T.Z.pString(t.TabsbarLogo)};this.$store.commit("tenants/setTenantCompleteData",{id:this.tenantId,data:n})}}))}}};var _=e(1639),I=e(6663),N=e(4458),v=e(3190),S=e(6611),C=e(8879),W=e(854),A=e(8289),R=e(9984),w=e.n(R);const Z=(0,_.Z)(E,[["render",u]]),U=Z;w()(E,"components",{QScrollArea:I.Z,QCard:N.Z,QCardSection:v.Z,QInput:S.Z,QBtn:C.Z,QInnerLoading:W.Z,QLinearProgress:A.Z});const f={moduleName:"BrandingWebclient",requiredModules:[],init(t){a.Z.init(t)},getAdminSystemTabs(){return[{tabName:"branding",tabTitle:"BRANDINGWEBCLIENT.ADMIN_SETTINGS_TAB_LABEL",tabRouteChildren:[{path:"branding",component:()=>e.e(1140).then(e.bind(e,1140))}]}]},getAdminTenantTabs(){return[{tabName:"branding",tabTitle:"BRANDINGWEBCLIENT.ADMIN_SETTINGS_TAB_LABEL",tabRouteChildren:[{path:"id/:id/branding",component:U},{path:"search/:search/id/:id/branding",component:U},{path:"page/:page/id/:id/branding",component:U},{path:"search/:search/page/:page/id/:id/branding",component:U}]}]}}},9316:(t,n,e)=>{e.d(n,{Z:()=>r});var a=e(4409),o=e.n(a),i=e(4089);class s{constructor(t){const n=i.Z.pObject(t.BrandingWebclient);o().isEmpty(n)||(this.loginLogo=n.LoginLogo,this.tabsbarLogo=n.TabsbarLogo)}saveBrandingsSettings({loginLogo:t,tabsbarLogo:n}){this.loginLogo=t,this.tabsbarLogo=n}}let l=null;const r={init(t){l=new s(t)},saveBrandingsSettings(t){l.saveBrandingsSettings(t)},getBrandingsSettings(){return{loginLogo:l?.loginLogo,tabsbarLogo:l?.tabsbarLogo}}}}}]);