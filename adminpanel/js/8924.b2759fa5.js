"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[8924],{8924:(e,s,a)=>{a.r(s),a.d(s,{default:()=>z});var t=a(9835);const l={class:"full-height full-width"},n={class:"q-pa-lg"},o={class:"row q-mb-md"},i={class:"col text-h5"},r={class:"row q-mb-md"},d={class:"col-2 q-mt-sm"},h={class:"col-5"},C={class:"row q-mb-md"},p={class:"col-2 q-mt-sm"},m={class:"col-5"},c={class:"row"},E={class:"col-2 q-mt-sm"},T={class:"col-5"},u={class:"q-pt-md text-right"},g={class:"q-pa-lg"},_={class:"row q-mb-md"},A={class:"col text-h5"},R={class:"row q-mb-sm"},w={class:"col-10"},I={class:"row q-mb-md"},v={class:"col-5"},W={class:"row q-mb-sm"},N={class:"col-10"},S={class:"row"},P={class:"col-5"};function y(e,s,a,y,L,O){const b=(0,t.up)("q-input"),B=(0,t.up)("q-card-section"),q=(0,t.up)("q-card"),U=(0,t.up)("q-btn"),Z=(0,t.up)("SystemSettings"),f=(0,t.up)("q-item-label"),H=(0,t.up)("q-scroll-area"),k=(0,t.up)("q-card-actions"),x=(0,t.up)("q-dialog"),K=(0,t.up)("q-linear-progress"),G=(0,t.up)("q-inner-loading"),V=(0,t.Q2)("t"),$=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(H,{class:"full-height full-width"},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t._)("div",o,[(0,t.wy)((0,t._)("div",i,null,512),[[V,"ROCKETCHATWEBCLIENT.HEADING_SETTINGS_TAB"]])]),(0,t.Wm)(q,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.wy)((0,t._)("div",d,null,512),[[V,"ROCKETCHATWEBCLIENT.ADMIN_CHAT_URL_LABEL"]]),(0,t._)("div",h,[(0,t.Wm)(b,{outlined:"",dense:"","bg-color":"white",modelValue:L.chatUrl,"onUpdate:modelValue":s[0]||(s[0]=e=>L.chatUrl=e)},null,8,["modelValue"])])]),(0,t._)("div",C,[(0,t.wy)((0,t._)("div",p,null,512),[[V,"ROCKETCHATWEBCLIENT.ADMIN_USERNAME_LABEL"]]),(0,t._)("div",m,[(0,t.Wm)(b,{outlined:"",dense:"","bg-color":"white",modelValue:L.adminUsername,"onUpdate:modelValue":s[1]||(s[1]=e=>L.adminUsername=e)},null,8,["modelValue"])])]),(0,t._)("div",c,[(0,t.wy)((0,t._)("div",E,null,512),[[V,"ROCKETCHATWEBCLIENT.ADMIN_PASSWORD_LABEL"]]),(0,t._)("div",T,[(0,t.Wm)(b,{outlined:"",dense:"","bg-color":"white",type:"password",autocomplete:"new-password",modelValue:L.adminPassword,"onUpdate:modelValue":s[2]||(s[2]=e=>L.adminPassword=e)},null,8,["modelValue"])])])])),_:1})])),_:1}),(0,t._)("div",u,[(0,t.Wm)(U,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE"),onClick:O.save},null,8,["label","onClick"])])]),(0,t.Wm)(Z,{hasChanges:O.hasChanges,onAttemptToApplyRequiredChanges:O.attemptToApplyRequiredChanges},null,8,["hasChanges","onAttemptToApplyRequiredChanges"]),(0,t._)("div",g,[(0,t._)("div",_,[(0,t.wy)((0,t._)("div",A,null,512),[[V,"ROCKETCHATWEBCLIENT.HEADING_APPEARANCE_SETTINGS_TAB"]])]),(0,t.Wm)(q,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t._)("div",R,[(0,t._)("div",w,[(0,t.wy)((0,t.Wm)(f,{caption:""},null,512),[[V,"ROCKETCHATWEBCLIENT.HINT_APPLY_TEXTS"]])])]),(0,t._)("div",I,[(0,t._)("div",v,[(0,t.Wm)(U,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",loading:L.applyTextChangesInProgress,label:e.$t("ROCKETCHATWEBCLIENT.ACTION_APPLY_TEXTS"),onClick:O.applyTextChanges},null,8,["loading","label","onClick"])])]),(0,t._)("div",W,[(0,t._)("div",N,[(0,t.wy)((0,t.Wm)(f,{caption:""},null,512),[[V,"ROCKETCHATWEBCLIENT.HINT_APPLY_CSS"]])])]),(0,t._)("div",S,[(0,t._)("div",P,[(0,t.Wm)(U,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",loading:L.applyCssChangesInProgress,label:e.$t("ROCKETCHATWEBCLIENT.ACTION_APPLY_CSS"),onClick:O.applyCssChanges},null,8,["loading","label","onClick"])])])])),_:1})])),_:1})])])),_:1}),(0,t.Wm)(x,{modelValue:L.showSaveBeforeApplyWarning,"onUpdate:modelValue":s[3]||(s[3]=e=>L.showSaveBeforeApplyWarning=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(B,null,null,512),[[V,"ROCKETCHATWEBCLIENT.WARNING_SAVE_BEFORE_APPLY"]]),(0,t.Wm)(k,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(U,{flat:"",label:e.$t("COREWEBCLIENT.ACTION_OK"),color:"primary"},null,8,["label"]),[[$]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(G,{style:{"justify-content":"flex-start"},showing:L.saving},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{query:""})])),_:1},8,["showing"])])}var L=a(9336),O=a(1427),b=a(2456),B=a(9982),q=a(3510);const U="      ",Z={name:"RocketChatAdminSettings",components:{SystemSettings:q.Z},data(){return{chatUrl:"",adminUsername:"",adminPassword:U,savedPassword:U,saving:!1,showSaveBeforeApplyWarning:!1,applyTextChangesInProgress:!1,applyCssChangesInProgress:!1}},mounted(){this.saving=!1,this.populate()},beforeRouteLeave(e,s,a){this.$root.doBeforeRouteLeave(e,s,a)},methods:{hasChanges(){const e=B.Z.getRocketChatWebclientSettings();return this.chatUrl!==e.chatUrl||this.adminUsername!==e.adminUsername||this.adminPassword!==this.savedPassword},revertChanges(){this.populate()},populate(){const e=B.Z.getRocketChatWebclientSettings();this.chatUrl=e.chatUrl,this.adminUsername=e.adminUsername,this.adminPassword=U,this.savedPassword=U},save(){if(!this.saving){this.saving=!0;const e={ChatUrl:this.chatUrl,AdminUsername:this.adminUsername};U!==this.adminPassword&&(e.AdminPassword=this.adminPassword),b.Z.sendRequest({moduleName:"RocketChatWebclient",methodName:"UpdateSettings",parameters:e}).then((s=>{this.saving=!1,!0===s?(B.Z.saveRocketChatWebclientSettings({chatUrl:e.ChatUrl,adminUsername:e.AdminUsername}),this.populate(),O.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):O.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.saving=!1,O.Z.showError(L.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},attemptToApplyRequiredChanges(){this.hasChanges()&&(this.showSaveBeforeApplyWarning=!0)},applyTextChanges(){this.applyTextChangesInProgress||(this.hasChanges()?this.showSaveBeforeApplyWarning=!0:(this.applyTextChangesInProgress=!0,b.Z.sendRequest({moduleName:"RocketChatWebclient",methodName:"ApplyRocketChatTextChanges"}).then((e=>{this.applyTextChangesInProgress=!1,!0===e?O.Z.showReport(this.$t("ROCKETCHATWEBCLIENT.REPORT_APPLY_CONFIGS_SUCCESS")):O.Z.showError(this.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS"))}),(e=>{this.applyTextChangesInProgress=!1,O.Z.showError(L.Z.getTextFromResponse(e,this.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS")))}))))},applyCssChanges(){this.applyCssChangesInProgress||(this.hasChanges()?this.showSaveBeforeApplyWarning=!0:(this.applyCssChangesInProgress=!0,b.Z.sendRequest({moduleName:"RocketChatWebclient",methodName:"ApplyRocketChatCssChanges"}).then((e=>{this.applyCssChangesInProgress=!1,!0===e?O.Z.showReport(this.$t("ROCKETCHATWEBCLIENT.REPORT_APPLY_CONFIGS_SUCCESS")):O.Z.showError(this.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS"))}),(e=>{this.applyCssChangesInProgress=!1,O.Z.showError(L.Z.getTextFromResponse(e,this.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS")))}))))}}};var f=a(1639),H=a(6663),k=a(4458),x=a(3190),K=a(6611),G=a(8879),V=a(3115),$=a(7743),F=a(1821),Q=a(854),D=a(8289),Y=a(2146),M=a(9984),X=a.n(M);const j=(0,f.Z)(Z,[["render",y],["__scopeId","data-v-3b535010"]]),z=j;X()(Z,"components",{QScrollArea:H.Z,QCard:k.Z,QCardSection:x.Z,QInput:K.Z,QBtn:G.Z,QItemLabel:V.Z,QDialog:$.Z,QCardActions:F.Z,QInnerLoading:Q.Z,QLinearProgress:D.Z}),X()(Z,"directives",{ClosePopup:Y.Z})}}]);