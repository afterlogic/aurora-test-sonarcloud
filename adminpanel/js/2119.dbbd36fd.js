"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[2119],{2119:(e,s,t)=>{t.r(s),t.d(s,{default:()=>J});var o=t(9835),l=t(1957),i=t(6970);const n={class:"q-pa-lg"},a={class:"row q-mb-md"},c={class:"col text-h5"},r={class:"row q-mb-md"},d={class:"col-2 q-my-sm"},u={class:"col-5"},m={class:"row q-mb-md"},h={class:"col-2 q-my-sm"},E={class:"col-5"},_={class:"row q-mb-md"},S={class:"col-2 q-my-sm"},p={class:"col-5"},g={class:"row q-mb-md"},y=(0,o._)("div",{class:"col-2 q-my-sm"},null,-1),v={class:"col-8"},R={class:"row q-mb-md"},T={class:"col-2 q-my-sm"},C={class:"col-5"},w={class:"row q-mb-md"},b=(0,o._)("div",{class:"col-2 q-my-sm"},null,-1),K={class:"col-8"},I={class:"row q-mb-md"},L={class:"col-2 q-my-sm"},O={class:"col-5"},A={class:"row q-mb-xl"},q=(0,o._)("div",{class:"col-2 q-my-sm"},null,-1),N={class:"col-5"},f={class:"q-pt-md text-right"};function F(e,s,t,F,Z,k){const G=(0,o.up)("q-input"),x=(0,o.up)("q-item-label"),V=(0,o.up)("q-btn"),W=(0,o.up)("q-card-section"),P=(0,o.up)("q-card"),B=(0,o.up)("q-linear-progress"),U=(0,o.up)("q-inner-loading"),D=(0,o.up)("q-scroll-area"),$=(0,o.Q2)("t");return(0,o.wg)(),(0,o.j4)(D,{class:"full-height full-width"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",a,[(0,o.wy)((0,o._)("div",c,null,512),[[$,"S3FILESTORAGE.HEADING_SETTINGS_TAB"]])]),(0,o.Wm)(P,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.wy)((0,o._)("div",d,null,512),[[$,"S3FILESTORAGE.LABEL_ACCESS_KEY"]]),(0,o._)("div",u,[(0,o.Wm)(G,{outlined:"",dense:"","bg-color":"white",modelValue:Z.accessKey,"onUpdate:modelValue":s[0]||(s[0]=e=>Z.accessKey=e),onKeyup:(0,l.D2)(k.save,["enter"])},null,8,["modelValue","onKeyup"])])]),(0,o._)("div",m,[(0,o.wy)((0,o._)("div",h,null,512),[[$,"S3FILESTORAGE.LABEL_SECRET_KEY"]]),(0,o._)("div",E,[(0,o.Wm)(G,{outlined:"",dense:"","bg-color":"white",modelValue:Z.secretKey,"onUpdate:modelValue":s[1]||(s[1]=e=>Z.secretKey=e),onKeyup:(0,l.D2)(k.save,["enter"])},null,8,["modelValue","onKeyup"])])]),(0,o._)("div",_,[(0,o.wy)((0,o._)("div",S,null,512),[[$,"S3FILESTORAGE.LABEL_REGION"]]),(0,o._)("div",p,[(0,o.Wm)(G,{outlined:"",dense:"","bg-color":"white",modelValue:Z.region,"onUpdate:modelValue":s[2]||(s[2]=e=>Z.region=e),onKeyup:(0,l.D2)(k.save,["enter"])},null,8,["modelValue","onKeyup"])])]),(0,o._)("div",g,[y,(0,o._)("div",v,[(0,o.Wm)(x,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("S3FILESTORAGE.INFO_REGION")),1)])),_:1})])]),(0,o._)("div",R,[(0,o.wy)((0,o._)("div",T,null,512),[[$,"S3FILESTORAGE.LABEL_HOST"]]),(0,o._)("div",C,[(0,o.Wm)(G,{outlined:"",dense:"","bg-color":"white",modelValue:Z.host,"onUpdate:modelValue":s[3]||(s[3]=e=>Z.host=e),onKeyup:(0,l.D2)(k.save,["enter"])},null,8,["modelValue","onKeyup"])])]),(0,o._)("div",w,[b,(0,o._)("div",K,[(0,o.Wm)(x,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("S3FILESTORAGE.INFO_HOST")),1)])),_:1})])]),(0,o._)("div",I,[(0,o.wy)((0,o._)("div",L,null,512),[[$,"S3FILESTORAGE.LABEL_BUCKET_PREFIX"]]),(0,o._)("div",O,[(0,o.Wm)(G,{outlined:"",dense:"","bg-color":"white",modelValue:Z.bucketPrefix,"onUpdate:modelValue":s[4]||(s[4]=e=>Z.bucketPrefix=e),onKeyup:(0,l.D2)(k.save,["enter"])},null,8,["modelValue","onKeyup"])])]),(0,o._)("div",A,[q,(0,o._)("div",N,[(0,o.Wm)(V,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",label:e.$t("S3FILESTORAGE.BUTTON_TEST_CONNECTION"),onClick:k.testConnection},null,8,["label","onClick"])])])])),_:1})])),_:1}),(0,o._)("div",f,[(0,o.Wm)(V,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",onClick:k.save,label:e.$t("COREWEBCLIENT.ACTION_SAVE")},null,8,["onClick","label"])])]),(0,o.Wm)(U,{style:{"justify-content":"flex-start"},showing:Z.saving},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{query:""})])),_:1},8,["showing"])])),_:1})}var Z=t(9336),k=t(1427),G=t(2456),x=t(4350);const V={name:"S3FilestorageAdminSettings",mounted(){this.populate()},beforeRouteLeave(e,s,t){this.$root.doBeforeRouteLeave(e,s,t)},data(){return{saving:!1,accessKey:"",secretKey:"",region:"",host:"",bucketPrefix:"",testingConnection:!1}},methods:{hasChanges(){const e=x.Z.getS3FilestorageSettings();return this.accessKey!==e.accessKey||this.secretKey!==e.secretKey||this.region!==e.region||this.host!==e.host||this.bucketPrefix!==e.bucketPrefix},revertChanges(){this.populate()},save(){if(!this.saving){this.saving=!0;const e={AccessKey:this.accessKey,SecretKey:this.secretKey,Region:this.region,Host:this.host,BucketPrefix:this.bucketPrefix};G.Z.sendRequest({moduleName:"S3Filestorage",methodName:"UpdateS3Settings",parameters:e}).then((e=>{this.saving=!1,!0===e?(x.Z.saveS3FilestorageSettings({accessKey:this.accessKey,secretKey:this.secretKey,region:this.region,host:this.host,bucketPrefix:this.bucketPrefix}),this.populate(),k.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):k.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.saving=!1,k.Z.showError(Z.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},populate(){const e=x.Z.getS3FilestorageSettings();this.accessKey=e.accessKey,this.secretKey=e.secretKey,this.region=e.region,this.host=e.host,this.bucketPrefix=e.bucketPrefix},testConnection(){if(!this.testingConnection){this.testingConnection=!0;const e={AccessKey:this.accessKey,SecretKey:this.secretKey,Region:this.region,Host:this.host};G.Z.sendRequest({moduleName:"S3Filestorage",methodName:"TestConnection",parameters:e}).then((e=>{this.testingConnection=!1,!0===e?k.Z.showReport(this.$t("S3FILESTORAGE.REPORT_CONNECT_SUCCESSFUL")):k.Z.showError(this.$t("S3FILESTORAGE.ERROR_CONNECT_FAILED"))}),(e=>{this.testingConnection=!1,k.Z.showError(Z.Z.getTextFromResponse(e,this.$t("S3FILESTORAGE.ERROR_CONNECT_FAILED")))}))}}}};var W=t(1639),P=t(6663),B=t(4458),U=t(3190),D=t(6611),$=t(3115),Q=t(8879),H=t(854),j=t(8289),z=t(9984),Y=t.n(z);const X=(0,W.Z)(V,[["render",F]]),J=X;Y()(V,"components",{QScrollArea:P.Z,QCard:B.Z,QCardSection:U.Z,QInput:D.Z,QItemLabel:$.Z,QBtn:Q.Z,QInnerLoading:H.Z,QLinearProgress:j.Z})}}]);