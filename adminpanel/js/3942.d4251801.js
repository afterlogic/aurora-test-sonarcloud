"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[3942],{3942:(e,s,t)=>{t.r(s),t.d(s,{default:()=>X});var l=t(9835),n=t(6970);const i={class:"q-pa-lg"},a={class:"row q-mb-md"},r={class:"col text-h5"},o={class:"row q-mb-sm"},E={class:"col-2"},c={class:"col-5 text-weight-medium"},u={class:"row q-mb-md"},d={class:"col-2"},_={class:"col-5 text-weight-medium"},L={class:"row q-mb-md"},T={class:"col-2"},N={class:"col-5 text-weight-medium"},I={class:"row q-mb-md"},h={class:"col-2"},S={class:"col-5 text-weight-medium"},m={class:"row q-my-md"},C={class:"col-2 q-my-sm"},v={class:"col-5"},p={class:"row"},A={class:"row q-my-md"},R={class:"col-2 q-my-sm"},w={class:"col-5"},b={class:"row"},g={class:"row q-my-md"},U={class:"row"},V={class:"q-pt-md text-right"};function B(e,s,t,B,M,y){const W=(0,l.up)("q-input"),F=(0,l.up)("q-item-label"),q=(0,l.up)("q-checkbox"),k=(0,l.up)("q-card-section"),O=(0,l.up)("q-card"),G=(0,l.up)("q-btn"),P=(0,l.up)("q-linear-progress"),f=(0,l.up)("q-inner-loading"),Z=(0,l.up)("q-scroll-area"),$=(0,l.Q2)("t");return(0,l.wg)(),(0,l.j4)(Z,{class:"full-height full-width"},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("div",a,[(0,l._)("div",r,(0,n.zw)(e.$t("ACTIVESERVER.HEADING_SETTINGS_TAB")),1)]),(0,l.Wm)(O,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l.wy)((0,l._)("div",E,null,512),[[$,"ACTIVESERVER.LABEL_LICENSING_MAX_NUMBER_OF_USERS"]]),(0,l._)("div",c,[(0,l._)("span",null,(0,n.zw)(M.licensedUsersCount),1)])]),(0,l._)("div",u,[(0,l.wy)((0,l._)("div",d,null,512),[[$,"ACTIVESERVER.LABEL_LICENSING_USERS_ALLOCATED"]]),(0,l._)("div",_,[(0,l._)("span",null,(0,n.zw)(M.usersCount),1)])]),(0,l._)("div",L,[(0,l.wy)((0,l._)("div",T,null,512),[[$,"ACTIVESERVER.LABEL_LICENSING_FREE_SLOTS"]]),(0,l._)("div",N,[(0,l._)("span",null,(0,n.zw)(M.usersFreeSlots),1)])]),(0,l._)("div",I,[(0,l.wy)((0,l._)("div",h,null,512),[[$,"ACTIVESERVER.LABEL_LICENSING_TYPE"]]),(0,l._)("div",S,[(0,l._)("span",null,(0,n.zw)(M.licenceType),1)])]),(0,l._)("div",m,[(0,l.wy)((0,l._)("div",C,null,512),[[$,"ACTIVESERVER.LABEL_SERVER_HOST"]]),(0,l._)("div",v,[(0,l.Wm)(W,{outlined:"",dense:"","bg-color":"white",modelValue:M.server,"onUpdate:modelValue":s[0]||(s[0]=e=>M.server=e)},null,8,["modelValue"])])]),(0,l._)("div",p,[(0,l._)("div",null,[(0,l.Wm)(F,{caption:"",innerHTML:e.$t("ACTIVESERVER.HINT_SERVER_HOST")},null,8,["innerHTML"])])]),(0,l._)("div",A,[(0,l.wy)((0,l._)("div",R,null,512),[[$,"ACTIVESERVER.LABEL_LINK"]]),(0,l._)("div",w,[(0,l.Wm)(W,{outlined:"",dense:"","bg-color":"white",modelValue:M.linkToManual,"onUpdate:modelValue":s[1]||(s[1]=e=>M.linkToManual=e)},null,8,["modelValue"])])]),(0,l._)("div",b,[(0,l._)("div",null,[(0,l.Wm)(F,{caption:"",innerHTML:e.$t("ACTIVESERVER.HINT_LINK_TO_MANUAL")},null,8,["innerHTML"])])]),(0,l._)("div",g,[(0,l.Wm)(q,{dense:"",modelValue:M.enableForNewUsers,"onUpdate:modelValue":s[2]||(s[2]=e=>M.enableForNewUsers=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(F,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.$t("ACTIVESERVER.ENABLE_FOR_NEW_USERS")),1)])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",U,[(0,l._)("div",null,[(0,l.Wm)(F,{caption:"",innerHTML:e.$t("ACTIVESERVER.HINT_FOR_NEW_USERS")},null,8,["innerHTML"])])])])),_:1})])),_:1}),(0,l._)("div",V,[(0,l.Wm)(G,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",onClick:y.save,label:e.$t("COREWEBCLIENT.ACTION_SAVE")},null,8,["onClick","label"])])]),(0,l.Wm)(f,{style:{"justify-content":"flex-start"},showing:M.saving},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{query:""})])),_:1},8,["showing"])])),_:1})}var M=t(9336),y=t(1427),W=t(2456),F=t(8776);const q={name:"ActiveSyncAdminSettings",data(){return{saving:!1,enableModule:!1,enableModuleForUser:!1,enableForNewUsers:!1,usersCount:0,licensedUsersCount:0,usersFreeSlots:0,server:"",linkToManual:"",productName:"",licenceType:""}},mounted(){this.populate(),this.getLicenseInfo(),this.getSettings()},beforeRouteLeave(e,s,t){this.$root.doBeforeRouteLeave(e,s,t)},methods:{hasChanges(){const e=F.Z.getActiveServerSettings();return this.enableForNewUsers!==e.enableForNewUsers||this.server!==e.server||this.linkToManual!==e.linkToManual},revertChanges(){this.populate()},save(){if(!this.saving){this.saving=!0;const e={EnableModule:!0,EnableForNewUsers:this.enableForNewUsers,Server:this.server,LinkToManual:this.linkToManual};W.Z.sendRequest({moduleName:"ActiveServer",methodName:"UpdateSettings",parameters:e}).then((e=>{this.saving=!1,!0===e?(F.Z.saveActiveServerSettings({server:this.server,enableForNewUsers:this.enableForNewUsers,enableModule:this.enableModule,linkToManual:this.linkToManual}),this.populate(),this.getSettings(),y.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):y.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.saving=!1,y.Z.showError(M.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getLicenseInfo(){W.Z.sendRequest({moduleName:"ActiveServer",methodName:"GetLicenseInfo"}).then((e=>{if(this.licenceType=this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_INVALID"),e)switch(e.Type){case 0:this.licenceType=this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_UNLIM");break;case 1:this.licenceType=this.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_PERMANENT_PLURAL",e.Count,{COUNT:e.Count});break;case 2:this.licenceType=this.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_DOMAINS_PLURAL",e.Count,{COUNT:e.Count});break;case 4:e.ExpiresIn<1&&(this.licenceType=this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_OUTDATED_INFO"));break;case 3:case 10:this.licenceType=3===e.Type?this.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_ANNUAL_PLURAL",e.Count,{COUNT:e.Count}):this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_TRIAL"),"*"!==e.ExpiresIn&&(e.ExpiresIn>0?this.licenceType+=this.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_EXPIRES_IN_PLURAL",e.ExpiresIn,{DAYS:e.ExpiresIn}):this.licenceType+=this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_EXPIRED")+" "+this.$t("LICENSINGWEBCLIENT.LABEL_TYPE_OUTDATED_INFO"));break}}))},getSettings(){W.Z.sendRequest({moduleName:"ActiveServer",methodName:"GetSettings"}).then((e=>{this.usersCount=e.UsersCount,this.licensedUsersCount=e.LicensedUsersCount,this.usersFreeSlots=e.UsersFreeSlots}))},populate(){const e=F.Z.getActiveServerSettings();this.enableModule=e.enableModule,this.enableModuleForUser=e.enableModuleForUser,this.enableForNewUsers=e.enableForNewUsers,this.server=e.server,this.linkToManual=e.linkToManual,this.productName=e.productName}}};var k=t(1639),O=t(6663),G=t(4458),P=t(3190),f=t(6611),Z=t(3115),$=t(6937),x=t(8879),D=t(854),H=t(8289),Y=t(9984),Q=t.n(Y);const z=(0,k.Z)(q,[["render",B]]),X=z;Q()(q,"components",{QScrollArea:O.Z,QCard:G.Z,QCardSection:P.Z,QInput:f.Z,QItemLabel:Z.Z,QCheckbox:$.Z,QBtn:x.Z,QInnerLoading:D.Z,QLinearProgress:H.Z})}}]);